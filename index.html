import React, { useEffect, useState } from "react";

// EBIN TRACKER - Single-file React + Tailwind component // - Tailwind classes assumed available in the parent project // - Persists progress to localStorage key: ebin_fullstack_progress_v2 // - Collapsible months, week-by-week topics, resources, export/import/reset

const STORAGE_KEY = "ebin_fullstack_progress_v2";

// Minimal SVG icons (inline for single-file convenience) const Icon = ({ name, className = "w-5 h-5 inline-block" }) => { switch (name) { case "chev": return ( <svg className={className} viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M6 8L10 12L14 8" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" /> </svg> ); case "external": return ( <svg className={className} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M14 3H21V10" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" /> <path d="M10 14L21 3" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" /> <path d="M21 21H3V3H12" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" /> </svg> ); case "download": return ( <svg className={className} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M12 3V15" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" /> <path d="M21 15L12 24L3 15" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" /> </svg> ); default: return null; } };

const seedData = { meta: { title: "EBIN TRACKER — A2Z MAANG Full-Stack Roadmap", localStorageKey: STORAGE_KEY }, months: [ { id: "dec", title: "DECEMBER — Frontend Core + JavaScript Foundations", description: "HTML, CSS, JavaScript core, DOM, Fetch API, accessibility, performance, Git basics, and DSA foundations. Build and deploy microprojects.", weeks: [ { id: "dec-w1", title: "Week 1 — HTML & CSS", items: [ { id: "dec-w1-1", title: "HTML & Semantic Markup", category: "Frontend", resources: [ { label: "Traversy — HTML Crash Course", href: "https://www.youtube.com/watch?v=UB1O30fR-EE" }, { label: "MDN — HTML Basics", href: "https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML" }, ], practice: "Build index.html with header/nav/main/section/article/footer and a contact form.", why: "Semantic HTML improves accessibility, SEO and is the structural basis for components later in React.", suggestedTime: "4 hrs", difficulty: "Easy", }, { id: "dec-w1-2", title: "CSS Fundamentals: Box Model, Selectors, Typography", category: "Frontend", resources: [ { label: "Kevin Powell — CSS", href: "https://www.youtube.com/@KevinPowell" }, { label: "MDN — CSS", href: "https://developer.mozilla.org/en-US/docs/Web/CSS" }, ], practice: "External stylesheet, Google Fonts, CSS variables.", why: "Prevents layout bugs and produces consistent UI.", suggestedTime: "3 hrs", difficulty: "Easy", }, ], }, { id: "dec-w2", title: "Week 2 — JavaScript Core & DOM", items: [ { id: "dec-w2-1", title: "JavaScript ES6+ Fundamentals", category: "Frontend / JS", resources: [ { label: "freeCodeCamp JS Full Course", href: "https://www.youtube.com/watch?v=PkZNo7MFNFg" }, { label: "javascript.info", href: "https://javascript.info/" }, ], practice: "map/filter/reduce, arrow funcs, destructuring.", why: "Modern JS is used everywhere — React & Node rely on these features.", suggestedTime: "6–8 hrs", difficulty: "Medium", }, ], }, ], }, { id: "jan", title: "JANUARY — React Basics + UI Systems + Intermediate DSA", description: "Boot into React (Vite), component architecture, hooks, Tailwind UI, API integration, and intermediate DSA.", weeks: [ { id: "jan-w1", title: "Week 1 — React Fundamentals (Vite)", items: [ { id: "jan-w1-1", title: "Vite + React setup, Components & JSX", category: "React", resources: [ { label: "Traversy React Crash", href: "https://www.youtube.com/watch?v=w7ejDZ8SWv8" }, { label: "React docs", href: "https://react.dev/" }, ], practice: "Create simple component library (InfoCard, Button).", why: "Core skill for frontend interviews", suggestedTime: "3 hrs", difficulty: "Easy", }, ], }, ], }, { id: "feb", title: "FEBRUARY — Advanced React, Routing, Custom Hooks & Linked List DSA", description: "Context + useReducer, React Router v6, custom hooks, form validation, TypeScript intro (migrate one app), linked list DSA.", weeks: [ { id: "feb-w1", title: "Week 1 — Context API + useReducer", items: [] }, ], }, { id: "mar", title: "MARCH — Backend: Node, Express, MongoDB + Docker + Redis + System Design Intro", description: "Server-side fundamentals, secure APIs, persistence, containerization, caching, testing, and basic system design.", weeks: [ { id: "mar-w1", title: "Week 1 — Node.js & Express", items: [] }, ], }, { id: "apr", title: "APRIL — MERN Integration, AWS, CI/CD, Monitoring, Trees & Flagship Projects", description: "Integrate frontend+backend, deploy to cloud (AWS), CI/CD, monitoring, final flagship apps, system design case studies, and DSA Trees.", weeks: [ { id: "apr-w1", title: "Week 1 — Integration basics", items: [] }, ], }, ], };

function uid(prefix = "id") { return ${prefix}_${Math.random().toString(36).slice(2, 9)}; }

export default function EbinTracker() { const [data, setData] = useState(() => { try { const raw = localStorage.getItem(STORAGE_KEY); if (raw) return JSON.parse(raw); } catch (e) { console.warn("Failed to parse localStorage seed", e); } // add completed flags to seed const seeded = JSON.parse(JSON.stringify(seedData)); seeded.months.forEach((m) => { m.expanded = false; m.weeks.forEach((w) => { w.expanded = false; w.items.forEach((it) => (it.completed = false)); }); }); return seeded; });

// derived overall progress const computeProgress = (d) => { let total = 0, done = 0; d.months.forEach((m) => { m.weeks.forEach((w) => { w.items.forEach((it) => { total += 1; if (it.completed) done += 1; }); }); }); return total === 0 ? 0 : Math.round((done / total) * 100); };

const [progress, setProgress] = useState(() => computeProgress(data));

useEffect(() => { setProgress(computeProgress(data)); localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); }, [data]);

const toggleItem = (monthId, weekId, itemId) => { setData((prev) => { const copy = JSON.parse(JSON.stringify(prev)); const m = copy.months.find((x) => x.id === monthId); if (!m) return prev; const w = m.weeks.find((x) => x.id === weekId); if (!w) return prev; const it = w.items.find((x) => x.id === itemId); if (!it) return prev; it.completed = !it.completed; return copy; }); };

const toggleWeek = (monthId, weekId) => { setData((prev) => { const copy = JSON.parse(JSON.stringify(prev)); const m = copy.months.find((x) => x.id === monthId); if (!m) return prev; const w = m.weeks.find((x) => x.id === weekId); if (!w) return prev; w.expanded = !w.expanded; return copy; }); };

const toggleMonth = (monthId) => { setData((prev) => { const copy = JSON.parse(JSON.stringify(prev)); const m = copy.months.find((x) => x.id === monthId); if (!m) return prev; m.expanded = !m.expanded; return copy; }); };

const markAllComplete = () => { setData((prev) => { const copy = JSON.parse(JSON.stringify(prev)); copy.months.forEach((m) => m.weeks.forEach((w) => w.items.forEach((it) => (it.completed = true)))); return copy; }); };

const markAllIncomplete = () => { setData((prev) => { const copy = JSON.parse(JSON.stringify(prev)); copy.months.forEach((m) => m.weeks.forEach((w) => w.items.forEach((it) => (it.completed = false)))); return copy; }); };

const exportProgress = () => { const blob = new Blob([JSON.stringify(data, null, 2)], { type: "application/json" }); const url = URL.createObjectURL(blob); const a = document.createElement("a"); a.href = url; a.download = "ebin_progress_v2.json"; a.click(); URL.revokeObjectURL(url); };

const importProgress = (file) => { if (!file) return; const reader = new FileReader(); reader.onload = (e) => { try { const parsed = JSON.parse(e.target.result); // basic validation if (!parsed.months) throw new Error("Invalid format"); setData(parsed); } catch (err) { alert("Failed to import: " + err.message); } }; reader.readAsText(file); };

const resetProgress = () => { if (!confirm("Reset all progress? This cannot be undone.")) return; localStorage.removeItem(STORAGE_KEY); window.location.reload(); };

return ( <div className="min-h-screen bg-slate-900 text-slate-100 p-6"> <div className="max-w-6xl mx-auto"> <header className="flex items-center justify-between mb-6"> <div> <div className="text-2xl font-bold">EBIN TRACKER</div> <div className="text-sm text-slate-400">A2Z MAANG Full-Stack Roadmap</div> </div> <div className="flex items-center gap-3"> <div className="text-sm text-slate-300">Overall: <span className="font-semibold">{progress}%</span></div> <button
onClick={markAllComplete}
className="bg-orange-500 hover:bg-orange-600 px-3 py-1 rounded text-sm font-medium"
> Mark All Complete </button> <button
onClick={markAllIncomplete}
className="bg-slate-700 hover:bg-slate-600 px-3 py-1 rounded text-sm font-medium"
> Mark All Incomplete </button> <button
onClick={exportProgress}
className="bg-slate-800 hover:bg-slate-700 px-3 py-1 rounded text-sm flex items-center gap-2"
> <Icon name="download" /> Export </button> <label className="bg-slate-800 hover:bg-slate-700 px-3 py-1 rounded text-sm cursor-pointer"> Import <input type="file" accept="application/json" className="hidden" onChange={(e) => importProgress(e.target.files?.[0])} /> </label> <button onClick={resetProgress} className="text-xs text-rose-400">Reset</button> </div> </header>

<div className="space-y-4">
      {data.months.map((month) => (
        <div key={month.id} className="bg-slate-800 rounded-lg overflow-hidden">
          <button
            onClick={() => toggleMonth(month.id)}
            className="w-full text-left px-5 py-4 flex items-center justify-between"
          >
            <div>
              <div className="font-semibold">{month.title}</div>
              <div className="text-xs text-slate-400">{month.description}</div>
            </div>
            <div className="flex items-center gap-3">
              <div className="text-sm text-slate-300">Weeks: {month.weeks.length}</div>
              <div className="p-2 rounded bg-slate-700">
                <Icon name="chev" />
              </div>
            </div>
          </button>

          {month.expanded && (
            <div className="px-6 pb-6">
              <div className="space-y-3 mt-2">
                {month.weeks.map((week) => (
                  <div key={week.id} className="bg-slate-700 rounded">
                    <button
                      onClick={() => toggleWeek(month.id, week.id)}
                      className="w-full text-left px-4 py-3 flex items-center justify-between"
                    >
                      <div className="flex items-center gap-3">
                        <div className="w-2 h-2 rounded-full bg-orange-500" />
                        <div>
                          <div className="font-medium">{week.title}</div>
                          <div className="text-xs text-slate-400">{week.items.length} topic(s)</div>
                        </div>
                      </div>
                      <div className="text-slate-300">{week.expanded ? "Hide" : "Show"}</div>
                    </button>

                    {week.expanded && (
                      <div className="p-4 border-t border-slate-600">
                        <div className="space-y-3">
                          {week.items.map((it) => (
                            <div key={it.id} className="flex items-start gap-3">
                              <input
                                id={it.id}
                                type="checkbox"
                                checked={!!it.completed}
                                onChange={() => toggleItem(month.id, week.id, it.id)}
                                className="mt-1 w-4 h-4 text-orange-500 rounded"
                              />
                              <div className="flex-1">
                                <div className="flex items-center justify-between">
                                  <div>
                                    <div className="font-medium">{it.title}</div>
                                    <div className="text-xs text-slate-400">{it.category} · {it.suggestedTime} · {it.difficulty}</div>
                                  </div>
                                  <div className="flex items-center gap-2">
                                    {it.resources?.slice(0,3).map((r, idx) => (
                                      <a
                                        key={idx}
                                        href={r.href}
                                        target="_blank"
                                        rel="noreferrer"
                                        className="text-xs px-2 py-1 bg-slate-800 rounded hover:bg-slate-700 flex items-center gap-1"
                                      >
                                        <Icon name="external" />
                                        <span className="truncate max-w-[12rem]">{r.label}</span>
                                      </a>
                                    ))}
                                  </div>
                                </div>
                                <div className="mt-2 text-sm text-slate-300">{it.practice}</div>
                                <div className="mt-2 text-xs text-slate-400">Why: {it.why}</div>
                              </div>
                            </div>
                          ))}
                          {week.items.length === 0 && (
                            <div className="text-sm text-slate-400">No topics for this week yet.</div>
                          )}
                        </div>
                      </div>
                    )}
                  </div>
                ))}
              </div>
            </div>
          )}
        </div>
      ))}
    </div>

    <footer className="mt-8 text-sm text-slate-400">
      Local storage key: <code className="bg-slate-800 px-2 py-1 rounded">{STORAGE_KEY}</code>
    </footer>
  </div>
</div>

); }
